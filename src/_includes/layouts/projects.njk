{% extends "layouts/base.njk" %}

{% block content %}

  <div id="progress-bar"></div>

  <h1 class="page-title">Проекты</h1>

  <small>
    <p class="page-description"></p>
  </small>

  {% if collections.projects | length == 0 %}
    <p>Проектов пока нет. Или они есть, но не видны. Когда-нибудь появятся.</p>
  {% endif %}

  {% if collections.projects | length > 0 %}
    <p class="projects-count">
            Всего записей: {{ collections.projects | length }}
    </p>
  {% endif %}

  <div class="projects-posts-list" data-pagefind-ignore="all">
    {% set currentYear = "" %}
    {% for post in collections.projects %}
      {% set postYear = post.date | date("yyyy") %}

      {% if postYear != currentYear %}
        <h2 class="blog-year">{{ postYear }}</h2>
        {% set currentYear = postYear %}
      {% endif %}

      {% include "partials/card.njk" %}
    {% endfor %}
  </div>
{% endblock %}
