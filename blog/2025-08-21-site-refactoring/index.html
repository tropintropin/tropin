<!DOCTYPE html>
<html lang="ru-RU" prefix="og: https://ogp.me/ns#">
  <head>
    <meta charset="utf-8">
    <link rel="canonical" href="https://tropin.one">

    <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Valery Tropin">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

    <meta name="author" content="Валерий Тропин">
    
    <meta name="description" content="Я вышел из отпуска и занялся тем, что откладывал последние два года: рефакторингом этого сайта. Спустя две недели попыток вайбкодинга, сведшихся — разумеется! —…">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>
      
        Старый-новый сайт, или немного о рефакторинге | Valerio Tropin
      
    </title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">

    <link rel="webmention" href="https://webmention.io/tropin.one/webmention">
    <link rel="pingback" href="https://webmention.io/tropin.one/xmlrpc">

    <link rel="me" href="https://web.brid.gy/r/https://tropin.one/">
    <link rel="me" href="https://tech.lgbt/@GuyFromUberwald">
    <link rel="me" href="https://bsky.app/profile/tropin.one">
    <link rel="me" href="https://www.instagram.com/tropintropin/">

    <script>
      (function () {
        try {
          const saved = localStorage.getItem("theme");
          const prefersDark = window
            .matchMedia("(prefers-color-scheme: dark)")
            .matches;
          const isDark = saved === "dark" || (!saved && prefersDark);

          if (isDark) {
            document
              .documentElement
              .classList
              .add("dark-theme");
          } else {
            document
              .documentElement
              .classList
              .remove("dark-theme");
          }
        } catch (e) {
          // если localStorage недоступен, просто оставляем default
        }
      })();
    </script>

    
    <link rel="stylesheet" href="/assets/css/main.css">
    <link href="/pagefind/pagefind-ui.css" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/openwebicons@1.0.0/dist/openwebicons.min.css">

    <meta property="og:title" content="Старый-новый сайт, или немного о рефакторинге">
<meta property="og:type" content="article">
<meta property="og:description" content="Музейный исследователь, автор туров по Петербургу и не только, разработчик телеграм-ботов">
<meta property="og:image" content="[object Object]?v=">
<meta property="og:image:width" content="200">
<meta property="og:image:height" content="200">
<meta property="og:image:alt" content="Valery Tropin">
<meta property="og:url" content="/blog/2025-08-21-site-refactoring/">
<meta property="og:site_name" content="Valerio Tropin">
<meta property="og:locale" content="">

  <meta property="og:locale:alternate" content="en_US">

  <meta property="og:locale:alternate" content="en_GB">


    <meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Старый-новый сайт, или немного о рефакторинге">
<meta name="twitter:description" content="Музейный исследователь, автор туров по Петербургу и не только, разработчик телеграм-ботов">
<meta name="twitter:image" content="[object Object]?v=">
<meta name="twitter:image:alt" content="Valery Tropin">

    
  </head>
  <body data-pagefind-body="">
    <header>
  <div class="print-info">
    <picture><source type="image/webp" srcset="/img/hY-hPg7_9I-300.webp 300w, /img/hY-hPg7_9I-600.webp 600w, /img/hY-hPg7_9I-812.webp 812w, /img/hY-hPg7_9I-1200.webp 1200w" sizes="auto"><img loading="lazy" decoding="async" src="/img/hY-hPg7_9I-300.jpeg" alt="QR для печати" width="1200" height="1200" srcset="/img/hY-hPg7_9I-300.jpeg 300w, /img/hY-hPg7_9I-600.jpeg 600w, /img/hY-hPg7_9I-812.jpeg 812w, /img/hY-hPg7_9I-1200.jpeg 1200w" sizes="auto"></picture>
    <div class="print-text">
      <p>Версия для печати</p>
      <p>Контакты:</p>
      <p>tropin.tropin@gmail.com</p>
      <p>+7 999 215-10-69</p>
    </div>
  </div>

  <div class="header-inner">
    <div class="title-row">
      <button class="nav-toggle" aria-label="Открыть меню"></button>
      <h1 class="site-title">
        <a href="https://tropin.one">Valerio Tropin</a>
      </h1>
    </div>

    <div class="nav-wrapper">
      <nav class="main-nav" aria-label="Главное меню">
        
          <ul class="nav-list">
            
              
                <li>
                  <a href="/">Обо мне</a>
                </li>
              
            
              
                <li>
                  <a href="/blog/">Блог</a>
                </li>
              
            
              
                <li>
                  <a href="/projects/">Проекты</a>
                </li>
              
            
              
                <li>
                  <a href="/research/">Публикации и выступления</a>
                </li>
              
            
              
                <li>
                  <a href="/events/">События</a>
                </li>
              
            
          </ul>
        
      </nav>

      <div id="search"></div>
    </div>
  </div>
</header>

    <main>
      

  <div id="progress-bar"></div>

  <article class="post-page">
    
      <figure class="post-cover">
        <picture><source type="image/webp" srcset="/img/aw8zCIXGX5-300.webp 300w, /img/aw8zCIXGX5-600.webp 600w, /img/aw8zCIXGX5-1200.webp 1200w, /img/aw8zCIXGX5-2000.webp 2000w" sizes="auto"><img loading="lazy" decoding="async" src="/img/aw8zCIXGX5-300.jpeg" alt="Старый-новый сайт, или немного о рефакторинге" width="2000" height="1500" srcset="/img/aw8zCIXGX5-300.jpeg 300w, /img/aw8zCIXGX5-600.jpeg 600w, /img/aw8zCIXGX5-1200.jpeg 1200w, /img/aw8zCIXGX5-2000.jpeg 2000w" sizes="auto"></picture>
        
          <figcaption>
            КДПВ из прошлогодней поездки в Выборг. Катались на лодке вокруг Монрепо и даже почти не попали под дождь
          </figcaption>
        
      </figure>
    

    <h1 id="post-title">Старый-новый сайт, или немного о рефакторинге</h1>

    <div class="post-meta-top">
      <small class="reading-time">
        2 минуты чтения
      </small>
      
        
        
        
        
      
    </div>

    <div class="post-meta-bottom">
      <p class="post-date">21.08.2025</p>
    </div>

    






    <p class="drop-cap">
Это далеко не первая моя попытка в стандалоне-сайты и блоги. Но самая длительная.
</p>
<p>Первую версию <code>tropin.one</code> я запустил ещё в 2023-м, сверстав на чистом html и каком-то количестве css сайт-визитку. Собственно, переверстанная его версия и сейчас на <a href="/">главной</a>.</p>
<p>Какое-то время страничка лежала на моём VPS, но затем я его прибил, а страничку перенёс на <cite>GitHub Pages</cite>.</p>
<p>Но мне не хватало разделов. Поэтому сейчас, в 2025-м, появилась эта версия сайта: со старой-новой главной (которую я ещё переделаю), <a href="/blog/">блогом</a>, а также разделами с моими <a href="/projects/">проектами</a> (их накопилось достаточно на полноценный раздел), <a href="/research/">публикациями</a> (от статей в научных журналах до записей видеоэкскурсий) и отдельной лентой <a href="/events/">событий</a> (в основном, лекций и экскурсий).</p>
<p>У сайта есть <a href="/feed.atom.xml">общий фид всех записей</a> на базе атома, но я его ещё переделаю: в планах прикрутить <cite>RSS</cite> и <cite>JSON Feed</cite>. Есть <a href="/calendar.ics">календарь</a>, который можно скачать или попробовать подписаться (я его запилил несколько часов назад и пока сам тестирую его совместимость с тем же <cite>Google Calendar</cite>). <a href="/webmentions/">Вебменшинс</a> прикрутил вчера, но я совершенно не понимаю, работают они или нет. С мастодоном и блюскаем, кажется, не фурычат.</p>
<p>Ещё у блогов и событий есть возможность показывать карту с точками и/или маршрутами. Работает на <cite><a href="https://leafletjs.com/">Leaflet</a></cite>.</p>
<p>Есть плашка, которая будет вылезать, если пост архивный: я планирую перетащить сюда некоторое количество записей из своего <a href="https://valeriuus.livejournal.com/">ЖЖ</a>, которому в этом году исполнилось 16 годиков и, может быть, ещё из каких-нибудь сервисов. А то чего они у меня без дела в архиве лежат?</p>
<p>В общем, планов море, но сейчас я рад, что за пару недель медитативного кодинга и ругани с Чатом ГПТ мне удалось собрать минимально работающую историю, причём безо всяких CMS: тексты пишутся в MD-файлах, основные страницы генерятся из NJK-шаблонов, а собирает всё воедино <cite><a href="https://www.11ty.dev/">Eleventy</a></cite>. С помощью экшенов всё это дело билдится и улетает в <cite><a href="https://docs.github.com/">GitHub Pages</a></cite>.</p>
<p>Есть куда расти и чего править, но я очень доволен тем, что уже получилось сделать.</p>


    




  </article>

  <nav class="post-navigation">
    <div class="nav-grid">
      <div class="nav-item nav-next">
        
          <a href="/blog/2025-09-01-erasure/">
            <span class="arrow">←</span>
            <span>Археология наоборот: Erasure Notebooks by Mary Ruefle</span>
          </a>
        
      </div>

      <div class="nav-item nav-all">
        <a href="/blog/">
          <span>Все посты</span></a>
      </div>

      <div class="nav-item nav-prev">
        
          <a href="/blog/2022-08-30-funny-pictures/">
            <span>весёлые картинки и обилие экранов</span>
            <span class="arrow">→</span>
          </a>
        
      </div>
    </div>
  </nav>


    </main>
    <footer>
  <p>
    <button id="theme-toggle" class="theme-toggle">
      <span class="icon">🌓</span>
      <span class="label">Тема</span>
    </button>
  </p>

  <div class="footer-inner">
    <div>
      
        <a href="https://github.com/tropintropin" target="_blank" rel="noopener noreferrer" aria-label="GitHub" class="icon-link" data-svg="https://cdn.jsdelivr.net/npm/simple-icons@9.21.0/icons/github.svg"></a>
      
        <a href="https://t.me/ozlik" target="_blank" rel="noopener noreferrer" aria-label="Telegram" class="icon-link" data-svg="https://cdn.jsdelivr.net/npm/simple-icons@9.21.0/icons/telegram.svg"></a>
      
        <a href="https://www.livelib.ru/reader/valeriuus" target="_blank" rel="noopener noreferrer" aria-label="LiveLib" class="icon-link" data-svg="https://unpkg.com/tabler-icons@1.35.0/icons/book.svg"></a>
      
        <a href="/calendar.ics" target="_blank" rel="noopener noreferrer" aria-label="Calendar" class="icon-link" data-svg="https://unpkg.com/tabler-icons@1.35.0/icons/calendar.svg"></a>
      
        <a href="/feed.atom.xml" target="_blank" rel="noopener noreferrer" aria-label="RSS" class="icon-link" data-svg="https://cdn.jsdelivr.net/npm/simple-icons@9.21.0/icons/rss.svg"></a>
      
    </div>

    <small>
      <a href="https://ozlik.notion.site/Valera-s-Wish-List-487d6d07f26d4edcb2f240459513b9ab" target="_blank" rel="me noopener noreferrer" title="Notion официально не работает в РФ, используйте ВПН">
        Notion Wish List
      </a>
      <span class="separator">·</span>
      <a href="/calendar.ics" target="_blank" rel="me noopener noreferrer" title="Календарь событий">Events Calendar</a>
      <span class="separator">·</span>
      <a href="/feed.atom.xml" target="_blank" rel="me noopener noreferrer" title="Фид всех записей на сайте">Atom Feed (RSS)</a>
    </small>

    <p class="footer-copy">
      &copy;&nbsp;<time datetime="2023-2025">MMXXIII&nbsp;→&nbsp;MMXXV</time>&nbsp;<a href="https://tropin.one">Valery Tropin</a>. This website is made with <a href="https://www.11ty.dev/">11ty</a> & hosted on <a href="https://docs.github.com/en/pages">GitHub Pages</a>.
    </p>
  </div>
</footer>


    <button id="scrollTop" class="scroll-top" aria-label="Наверх">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <line x1="12" y1="19" x2="12" y2="5"></line>
        <polyline points="5 12 12 5 19 12"></polyline>
      </svg>
    </button>

    
    <script src="/pagefind/pagefind-ui.js"></script>
    <script>
      window.addEventListener("DOMContentLoaded", (event) => {
        new PagefindUI({element: "#search", showSubResults: true});
      });
    </script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script src="/assets/js/nav-toggle.js"></script>
    <script src="/assets/js/icons.js" defer=""></script>
    <script src="/assets/js/scrolltop.js" defer=""></script>
    <script src="/assets/js/copy-code.js" defer=""></script>
    <script src="/assets/js/theme-toggle.js" defer=""></script>
  </body>
</html>
